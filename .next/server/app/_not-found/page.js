(()=>{var e={};e.id=492,e.ids=[492],e.modules={1533:(e,t,r)=>{"use strict";r.r(t),r.d(t,{"7f0c78e48a1d8921fa412f3f27794f4a9c5de3ff14":()=>a.DY,"7f118a3308c5c5219ecec735150b4632c7ca935582":()=>a.hG,"7f5d3719d33b3c9ec6ca40f1d45a09cdeeca7862c0":()=>a.FK,"7f5f38272a1400ced1aed5c216b5155cea5523737b":()=>a.jp,"7f61de4fc9c0646c74472bd5ced2691b7736f4a584":()=>a.qg,"7f65ffcdf859dfce2253a5938ad7f4acbfc972da85":()=>a.r7,"7f72e2b16b4890bec3e4cbf2569573dce4090abed6":()=>a.S0,"7f74df81133e4bd3d3da0d8e00228f71668dfd7bf3":()=>a.ri,"7f7e04ab504df7796579722d3ffdbd567ec3393a75":()=>a.CF,"7fa0d3b92d8bfd0c342b1ae9e5fd818d0122ad61a7":()=>a.Lx,"7fa3496c42ebcd9acbe33a0c322e3661f66c7fb353":()=>a.HW,"7fc95ce47dc4f0b9ee2aef64cb82f9b8d994772b4b":()=>a.yB});var a=r(22610)},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11123:(e,t,r)=>{Promise.resolve().then(r.bind(r,21828))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21154:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var a=r(62740),s=r(21828);function n(){return(0,a.jsx)("div",{className:"h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsx)(s.default,{})})}},21828:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});let a=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\Level 2.0\\\\Assignment\\\\assignment-6\\\\osudpotro\\\\src\\\\components\\\\loader.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Level 2.0\\Assignment\\assignment-6\\osudpotro\\src\\components\\loader.tsx","default")},22610:(e,t,r)=>{"use strict";r.d(t,{CF:()=>g,DY:()=>d,FK:()=>y,HW:()=>p,Lx:()=>c,S0:()=>h,hG:()=>u,jp:()=>b,qg:()=>v,r7:()=>l,ri:()=>m,yB:()=>f});var a=r(21590);r(70376);var s=r(80499),n=r(47735),o=r(42385),i=r(99344);let d=async e=>{try{let t=await fetch("http://localhost:5000/api/v1/auth/registration",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json(),a=await (0,o.UL)();return r.success&&(a.set("accessToken",r.data.accessToken),a.set("refreshToken",r.data.refreshToken)),(0,n.revalidateTag)("auth"),r}catch(e){return Error(e)}},c=async e=>{try{let t=await fetch("http://localhost:5000/api/v1/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json(),a=await (0,o.UL)();return r.success&&(a.set("accessToken",r.data.accessToken),a.set("refreshToken",r.data.refreshToken)),(0,n.revalidateTag)("auth"),r}catch(e){return Error(e)}},l=async e=>{try{let t=await fetch("http://localhost:5000/api/v1/auth/profile",{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:(await o.UL())?.get("accessToken").value},body:JSON.stringify(e)});return(0,n.revalidateTag)("auth"),t.json()}catch(e){return Error(e)}},u=async e=>{try{let t=await fetch(`http://localhost:5000/api/v1/auth/user/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:(await o.UL())?.get("accessToken").value}});return(0,n.revalidateTag)("auth"),t.json()}catch(e){return Error(e)}},h=async(e,t)=>{console.log("servoce",t);try{let r=await fetch(`http://localhost:5000/api/v1/auth/role/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:(await o.UL())?.get("accessToken").value},body:JSON.stringify({role:t})});return(0,n.revalidateTag)("auth"),r.json()}catch(e){return Error(e)}},f=async(e,t)=>{try{let r=await fetch(`http://localhost:5000/api/v1/auth/status/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:(await o.UL())?.get("accessToken").value},body:JSON.stringify({status:t})});return(0,n.revalidateTag)("auth"),r.json()}catch(e){return Error(e)}},p=async()=>{let e=(await o.UL()).get("accessToken")?.value,t=null;return e?await (0,s.s)(e):null},m=async()=>{(await (0,o.UL)()).delete("accessToken")},v=async()=>{try{let e=await fetch("http://localhost:5000/api/v1/auth/refresh-token",{method:"POST",headers:{"Content-Type":"application/json",Authorization:(await o.UL())?.get("refreshToken").value}});return(0,n.revalidateTag)("auth"),e.json()}catch(e){throw Error(e)}},b=async()=>{try{return(await fetch("http://localhost:5000/api/v1/auth/me",{method:"GET",headers:{"Content-Type":"application/json",Authorization:(await o.UL())?.get("accessToken").value}})).json()}catch(e){throw Error(e)}},y=async e=>{try{return(await fetch(`http://localhost:5000/api/v1/auth/user/${e}/orders`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:(await o.UL())?.get("accessToken").value}})).json()}catch(e){throw Error(e)}},g=async()=>{try{return(await fetch("http://localhost:5000/api/v1/auth/users",{method:"GET",headers:{"Content-Type":"application/json",Authorization:(await o.UL())?.get("accessToken").value}})).json()}catch(e){throw Error(e)}};(0,i.D)([d,c,l,u,h,f,p,m,v,b,y,g]),(0,a.A)(d,"7f0c78e48a1d8921fa412f3f27794f4a9c5de3ff14",null),(0,a.A)(c,"7fa0d3b92d8bfd0c342b1ae9e5fd818d0122ad61a7",null),(0,a.A)(l,"7f65ffcdf859dfce2253a5938ad7f4acbfc972da85",null),(0,a.A)(u,"7f118a3308c5c5219ecec735150b4632c7ca935582",null),(0,a.A)(h,"7f72e2b16b4890bec3e4cbf2569573dce4090abed6",null),(0,a.A)(f,"7fc95ce47dc4f0b9ee2aef64cb82f9b8d994772b4b",null),(0,a.A)(p,"7fa3496c42ebcd9acbe33a0c322e3661f66c7fb353",null),(0,a.A)(m,"7f74df81133e4bd3d3da0d8e00228f71668dfd7bf3",null),(0,a.A)(v,"7f61de4fc9c0646c74472bd5ced2691b7736f4a584",null),(0,a.A)(b,"7f5f38272a1400ced1aed5c216b5155cea5523737b",null),(0,a.A)(y,"7f5d3719d33b3c9ec6ca40f1d45a09cdeeca7862c0",null),(0,a.A)(g,"7f7e04ab504df7796579722d3ffdbd567ec3393a75",null)},26293:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>l,routeModule:()=>h,tree:()=>c});var a=r(70260),s=r(28203),n=r(25155),o=r.n(n),i=r(67292),d={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);r.d(t,d);let c={children:["",{children:["/_not-found",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,71354)),"D:\\Level 2.0\\Assignment\\assignment-6\\osudpotro\\src\\app\\layout.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,21154)),"D:\\Level 2.0\\Assignment\\assignment-6\\osudpotro\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"]}]}.children,l=[],u={require:r,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/_not-found/page",pathname:"/_not-found",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},31981:()=>{},33873:e=>{"use strict";e.exports=require("path")},42429:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,13219,23)),Promise.resolve().then(r.t.bind(r,34863,23)),Promise.resolve().then(r.t.bind(r,25155,23)),Promise.resolve().then(r.t.bind(r,40802,23)),Promise.resolve().then(r.t.bind(r,9350,23)),Promise.resolve().then(r.t.bind(r,48530,23)),Promise.resolve().then(r.t.bind(r,81601,23)),Promise.resolve().then(r.t.bind(r,88921,23))},45983:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});let a=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\Level 2.0\\\\Assignment\\\\assignment-6\\\\osudpotro\\\\src\\\\providers\\\\Providers.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Level 2.0\\Assignment\\assignment-6\\osudpotro\\src\\providers\\Providers.tsx","default")},47626:(e,t,r)=>{"use strict";r.d(t,{ThemeProvider:()=>n});var a=r(45512),s=r(3371);function n({children:e,...t}){return(0,a.jsx)(s.N,{...t,children:e})}},48075:(e,t,r)=>{Promise.resolve().then(r.bind(r,78416))},52030:(e,t,r)=>{"use strict";r.d(t,{ThemeProvider:()=>a});let a=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call ThemeProvider() from the server but ThemeProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Level 2.0\\Assignment\\assignment-6\\osudpotro\\src\\components\\theme-provider.tsx","ThemeProvider")},61135:()=>{},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},68212:(e,t,r)=>{Promise.resolve().then(r.bind(r,91542)),Promise.resolve().then(r.bind(r,47626)),Promise.resolve().then(r.bind(r,75993))},70045:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,66959,23)),Promise.resolve().then(r.t.bind(r,33875,23)),Promise.resolve().then(r.t.bind(r,88903,23)),Promise.resolve().then(r.t.bind(r,57174,23)),Promise.resolve().then(r.t.bind(r,84178,23)),Promise.resolve().then(r.t.bind(r,87190,23)),Promise.resolve().then(r.t.bind(r,48429,23)),Promise.resolve().then(r.t.bind(r,61365,23))},70440:(e,t,r)=>{"use strict";r.d(t,{A:()=>l,J:()=>c});var a=r(45512),s=r(78416),n=r(26248);let o=(0,n.createServerReference)("7fa3496c42ebcd9acbe33a0c322e3661f66c7fb353",n.callServer,void 0,n.findSourceMapURL,"getCurrentUser");var i=r(58009);let d=(0,i.createContext)(void 0),c=()=>{let e=(0,i.useContext)(d);if(void 0==e)throw Error("UseUser must be used within the userProvider context.");return e},l=({children:e})=>{let[t,r]=(0,i.useState)(null),[n,c]=(0,i.useState)(!0),l=async()=>{r(await o()),c(!1)};return((0,i.useEffect)(()=>{l()},[n]),n)?(0,a.jsx)("div",{className:"h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsx)(s.default,{})}):(0,a.jsx)(d.Provider,{value:{user:t,setUser:r,isLoading:n,setIsLoading:c},children:e})}},71354:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l,metadata:()=>c});var a=r(62740),s=r(85041),n=r.n(s);r(61135);var o=r(52030);r(31981);var i=r(56814),d=r(45983);let c={title:"OsudPotro - Your Trusted Online Pharmacy",description:"Get your medicines delivered at your doorstep"};function l({children:e}){return(0,a.jsx)("html",{lang:"en",suppressHydrationWarning:!0,children:(0,a.jsx)("body",{className:n().className,children:(0,a.jsx)(d.default,{children:(0,a.jsxs)(o.ThemeProvider,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!0,children:[(0,a.jsx)("main",{children:e}),(0,a.jsx)(i.Toaster,{richColors:!0,position:"top-center"})]})})})})}},75993:(e,t,r)=>{"use strict";r.d(t,{default:()=>y});var a=r(45512),s=r(70440),n=r(78416);function o(){return(0,a.jsx)("div",{className:"h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsx)(n.default,{})})}var i=r(89284),d=r(39336),c=r(87754),l=r(83335);let u={key:"cart",storage:c.A},h=(0,d.rL)(u,l.Ay),f=()=>(0,i.U1)({reducer:{cart:h},middleware:e=>e({serializableCheck:{ignoredActions:[d.ZM,d.r2,d.Hz,d.DY,d.Cq,d.eY]}})});var p=r(58009),m=r(92273),v=r(24107);let b=({children:e})=>{let t=(0,p.useRef)(void 0);t.current||(t.current=f());let r=(0,d.GM)(t.current);return(0,a.jsx)(m.Kq,{store:t.current,children:(0,a.jsxs)(v.Q,{loading:(0,a.jsx)(o,{}),persistor:r,children:[" ",e," "]})})},y=({children:e})=>(0,a.jsx)(s.A,{children:(0,a.jsx)(b,{children:e})})},78416:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var a=r(45512);function s(){return(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"relative w-12 h-12 animate-bounce",children:(0,a.jsxs)("div",{className:"absolute inset-0 w-full h-full flex items-center justify-center",children:[(0,a.jsx)("div",{className:"w-12 h-6 bg-blue-500 rounded-t-full"}),(0,a.jsx)("div",{className:"w-12 h-6 bg-red-500 rounded-b-full"})]})}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Loading Medicine..."})]})}r(58009)},83335:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>g,Ew:()=>c,J5:()=>m,Kz:()=>y,PM:()=>p,Qz:()=>d,TO:()=>s,U4:()=>h,Zt:()=>i,b4:()=>b,dt:()=>v,k:()=>o,m1:()=>u,sX:()=>f,uy:()=>l,wj:()=>n});let a=(0,r(89284).Z0)({name:"cart",initialState:{items:[],totalPrice:0,totalQuantity:0,city:"",address:"",phone:""},reducers:{addCart:(e,t)=>{let{_id:r}=t.payload;e.items||(e.items=[]);let a=e.items.find(e=>e._id===r);a?a.orderQuantity+=1:e.items.push({...t.payload,orderQuantity:1})},removeFromCart(e,t){let r=t.payload,a=e.items.find(e=>e._id===r);a&&(e.totalQuantity-=a.orderQuantity,e.totalPrice-=a.orderPrice,e.items=e.items.filter(e=>e._id!==r))},incrementOrderQuantity:(e,t)=>{let r=e.items.find(e=>e._id===t.payload);if(r){r.orderQuantity+=1;return}},decrementOrderQuantity:(e,t)=>{let r=e.items.find(e=>e._id===t.payload);if(r&&r.orderQuantity>1){r.orderQuantity-=1;return}},clearCart(e){e.items=[],e.totalQuantity=0,e.totalPrice=0,e.address="",e.city="",e.phone=""},updateCity:(e,t)=>{e.city=t.payload},updateShippingAddress:(e,t)=>{e.address=t.payload}}}),s=e=>e.cart.items,n=e=>e.cart.items.reduce((e,t)=>e+t.price*t.orderQuantity,0),o=e=>e.cart.city&&"Dhaka"===e.cart.city&&e.cart.items.length>0?60:e.cart.city&&"Dhaka"!==e.cart.city&&e.cart.items.length>0?120:0,i=e=>e.cart.city,d=e=>e.cart.address,c=e=>e.cart.phone,l=e=>n(e)+o(e),u=e=>({medicines:e.cart.items.map(e=>({medicine:e._id,quantity:e.orderQuantity})),shippingInfo:{address:e.cart.address,city:e.cart.city,phone:e.cart.phone},shippingFee:o(e)}),{addCart:h,clearCart:f,incrementOrderQuantity:p,decrementOrderQuantity:m,removeFromCart:v,updateCity:b,updateShippingAddress:y}=a.actions,g=a.reducer},92180:(e,t,r)=>{Promise.resolve().then(r.bind(r,56814)),Promise.resolve().then(r.bind(r,52030)),Promise.resolve().then(r.bind(r,45983))}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[638,865,586],()=>r(26293));module.exports=a})();