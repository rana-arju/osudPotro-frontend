(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7100],{767:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(7401).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},1197:(e,t,r)=>{Promise.resolve().then(r.bind(r,7815))},1344:(e,t,r)=>{"use strict";r.d(t,{Cf:()=>u,L3:()=>f,c7:()=>m,lG:()=>l,zM:()=>i});var a=r(5155);r(2115);var s=r(6217),n=r(767),o=r(1567);function l(e){let{...t}=e;return(0,a.jsx)(s.bL,{"data-slot":"dialog",...t})}function i(e){let{...t}=e;return(0,a.jsx)(s.l9,{"data-slot":"dialog-trigger",...t})}function d(e){let{...t}=e;return(0,a.jsx)(s.ZL,{"data-slot":"dialog-portal",...t})}function c(e){let{className:t,...r}=e;return(0,a.jsx)(s.hJ,{"data-slot":"dialog-overlay",className:(0,o.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80",t),...r})}function u(e){let{className:t,children:r,...l}=e;return(0,a.jsxs)(d,{"data-slot":"dialog-portal",children:[(0,a.jsx)(c,{}),(0,a.jsxs)(s.UC,{"data-slot":"dialog-content",className:(0,o.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...l,children:[r,(0,a.jsxs)(s.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,a.jsx)(n.A,{}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function m(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"dialog-header",className:(0,o.cn)("flex flex-col gap-2 text-center sm:text-left",t),...r})}function f(e){let{className:t,...r}=e;return(0,a.jsx)(s.hE,{"data-slot":"dialog-title",className:(0,o.cn)("text-lg leading-none font-semibold",t),...r})}},1567:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var a=r(3463),s=r(9795);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}},2508:(e,t,r)=>{"use strict";r.d(t,{A0:()=>o,BF:()=>l,Hj:()=>i,XI:()=>n,nA:()=>c,nd:()=>d});var a=r(5155);r(2115);var s=r(1567);function n(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,a.jsx)("table",{"data-slot":"table",className:(0,s.cn)("w-full caption-bottom text-sm",t),...r})})}function o(e){let{className:t,...r}=e;return(0,a.jsx)("thead",{"data-slot":"table-header",className:(0,s.cn)("[&_tr]:border-b",t),...r})}function l(e){let{className:t,...r}=e;return(0,a.jsx)("tbody",{"data-slot":"table-body",className:(0,s.cn)("[&_tr:last-child]:border-0",t),...r})}function i(e){let{className:t,...r}=e;return(0,a.jsx)("tr",{"data-slot":"table-row",className:(0,s.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...r})}function d(e){let{className:t,...r}=e;return(0,a.jsx)("th",{"data-slot":"table-head",className:(0,s.cn)("text-muted-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...r})}function c(e){let{className:t,...r}=e;return(0,a.jsx)("td",{"data-slot":"table-cell",className:(0,s.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...r})}},3312:(e,t,r)=>{"use strict";r.d(t,{$:()=>i,r:()=>l});var a=r(5155);r(2115);var s=r(2317),n=r(1027),o=r(1567);let l=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-[color,box-shadow] disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40",outline:"border border-input bg-background shadow-xs hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function i(e){let{className:t,variant:r,size:n,asChild:i=!1,...d}=e,c=i?s.DX:"button";return(0,a.jsx)(c,{"data-slot":"button",className:(0,o.cn)(l({variant:r,size:n,className:t})),...d})}},3900:(e,t,r)=>{"use strict";r.d(t,{p:()=>n});var a=r(5155);r(2115);var s=r(1567);function n(e){let{className:t,type:r,...n}=e;return(0,a.jsx)("input",{type:r,"data-slot":"input",className:(0,s.cn)("border-input file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}},4870:(e,t,r)=>{"use strict";r.d(t,{C5:()=>v,MJ:()=>h,eI:()=>x,lR:()=>g,lV:()=>d,zB:()=>u});var a=r(5155),s=r(2115),n=r(2317),o=r(9606),l=r(1567),i=r(8986);let d=o.Op,c=s.createContext({}),u=e=>{let{...t}=e;return(0,a.jsx)(c.Provider,{value:{name:t.name},children:(0,a.jsx)(o.xI,{...t})})},m=()=>{let e=s.useContext(c),t=s.useContext(f),{getFieldState:r}=(0,o.xW)(),a=(0,o.lN)({name:e.name}),n=r(e.name,a);if(!e)throw Error("useFormField should be used within <FormField>");let{id:l}=t;return{id:l,name:e.name,formItemId:"".concat(l,"-form-item"),formDescriptionId:"".concat(l,"-form-item-description"),formMessageId:"".concat(l,"-form-item-message"),...n}},f=s.createContext({});function x(e){let{className:t,...r}=e,n=s.useId();return(0,a.jsx)(f.Provider,{value:{id:n},children:(0,a.jsx)("div",{"data-slot":"form-item",className:(0,l.cn)("grid gap-2",t),...r})})}function g(e){let{className:t,...r}=e,{error:s,formItemId:n}=m();return(0,a.jsx)(i.Label,{"data-slot":"form-label","data-error":!!s,className:(0,l.cn)("data-[error=true]:text-destructive-foreground",t),htmlFor:n,...r})}function h(e){let{...t}=e,{error:r,formItemId:s,formDescriptionId:o,formMessageId:l}=m();return(0,a.jsx)(n.DX,{"data-slot":"form-control",id:s,"aria-describedby":r?"".concat(o," ").concat(l):"".concat(o),"aria-invalid":!!r,...t})}function v(e){var t;let{className:r,...s}=e,{error:n,formMessageId:o}=m(),i=n?String(null!==(t=null==n?void 0:n.message)&&void 0!==t?t:""):s.children;return i?(0,a.jsx)("p",{"data-slot":"form-message",id:o,className:(0,l.cn)("text-destructive-foreground text-sm",r),...s,children:i}):null}},7401:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var a=r(2115);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:d="",children:c,iconNode:u,...m}=e;return(0,a.createElement)("svg",{ref:t,...o,width:s,height:s,stroke:r,strokeWidth:i?24*Number(l)/Number(s):l,className:n("lucide",d),...m},[...u.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(c)?c:[c]])}),i=(e,t)=>{let r=(0,a.forwardRef)((r,o)=>{let{className:i,...d}=r;return(0,a.createElement)(l,{ref:o,iconNode:t,className:n("lucide-".concat(s(e)),i),...d})});return r.displayName="".concat(e),r}},7815:(e,t,r)=>{"use strict";r.d(t,{default:()=>j});var a=r(5155),s=r(2115),n=r(3415),o=r(9606),l=r(5060),i=r(3312),d=r(3900),c=r(2508),u=r(4870),m=r(5828);let f=(0,m.createServerReference)("7f48f9ea7d7af484060017a1590f61dcd75c49f96d",m.callServer,void 0,m.findSourceMapURL,"getCategoryById"),x=(0,m.createServerReference)("7f28976ddee0ac483b8a2411c87e9168bfdea8fae5",m.callServer,void 0,m.findSourceMapURL,"createCategory"),g=(0,m.createServerReference)("7fd081e8c5892e96ba5033f50c88a506981de5b598",m.callServer,void 0,m.findSourceMapURL,"updateCategory"),h=(0,m.createServerReference)("7f5ea3a70e231d9de42270a91231dd6aa2cc704249",m.callServer,void 0,m.findSourceMapURL,"deleteCategory");var v=r(814),p=r(1344);let b=n.z.object({name:n.z.string().min(2,"Category name must be at least 2 characters"),_id:n.z.string().optional()});function j(e){let{categories:t}=e,[r,n]=(0,s.useState)(null),[m,j]=(0,s.useState)(!1),y=(0,o.mN)({resolver:(0,l.u)(b),defaultValues:{name:"",_id:r}}),w=async e=>{try{let t=await f(e);(null==t?void 0:t.success)?(n(e),j(!0),y.reset({name:t.data.name})):v.o.error("Failed to fetch category data.")}catch(e){v.o.error("Error fetching category data.")}},N=async e=>{try{let t=await x(e);(null==t?void 0:t.success)?(v.o.success(t.message),y.reset()):v.o.error(null==t?void 0:t.message)}catch(e){v.o.error("Failed to add category. Please try again.")}},C=async e=>{if(r)try{console.log("afsdfaf",e);let t=await g(r,e);(null==t?void 0:t.success)?(v.o.success(t.message),j(!1)):v.o.error(null==t?void 0:t.message)}catch(e){v.o.error("Failed to update category. Please try again.")}},k=async e=>{try{let t=await h(e);(null==t?void 0:t.success)?v.o.success(null==t?void 0:t.message):v.o.error(null==t?void 0:t.message)}catch(e){v.o.error("Category not deleted. Please try again.")}};return(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold mb-6",children:"Manage Categories"}),(0,a.jsx)(u.lV,{...y,children:(0,a.jsxs)("form",{onSubmit:y.handleSubmit(N),className:"space-y-4 mb-6",children:[(0,a.jsx)(u.zB,{control:y.control,name:"name",render:e=>{let{field:t}=e;return(0,a.jsxs)(u.eI,{children:[(0,a.jsx)(u.lR,{children:"Category Name"}),(0,a.jsx)(u.MJ,{children:(0,a.jsx)(d.p,{...t,placeholder:"Enter category name"})}),(0,a.jsx)(u.C5,{className:"text-red-500"})]})}}),(0,a.jsx)(i.$,{type:"submit",className:"cursor-pointer",children:"Add Category"})]})}),(0,a.jsx)("div",{className:"rounded-md border",children:(0,a.jsxs)(c.XI,{children:[(0,a.jsx)(c.A0,{children:(0,a.jsxs)(c.Hj,{children:[(0,a.jsx)(c.nd,{children:"Name"}),(0,a.jsx)(c.nd,{children:"Actions"})]})}),(0,a.jsx)(c.BF,{children:(null==t?void 0:t.length)?t.map(e=>(0,a.jsxs)(c.Hj,{children:[(0,a.jsx)(c.nA,{children:e.name}),(0,a.jsxs)(c.nA,{children:[(0,a.jsx)(i.$,{variant:"outline",size:"sm",className:"mr-2 cursor-pointer",onClick:()=>e._id&&w(e._id),children:"Edit"}),(0,a.jsx)(i.$,{variant:"destructive",size:"sm",onClick:()=>e._id&&k(e._id),className:"cursor-pointer",children:"Delete"})]})]},e._id)):(0,a.jsx)(c.Hj,{children:(0,a.jsx)(c.nA,{colSpan:2,children:"No Category Found"})})})]})}),(0,a.jsx)(p.lG,{open:m,onOpenChange:j,children:(0,a.jsxs)(p.Cf,{children:[(0,a.jsx)(p.c7,{children:(0,a.jsx)(p.L3,{children:"Edit Category"})}),(0,a.jsx)(u.lV,{...y,children:(0,a.jsxs)("form",{onSubmit:y.handleSubmit(C),className:"space-y-4",children:[(0,a.jsx)(u.zB,{control:y.control,name:"name",render:e=>{let{field:t}=e;return(0,a.jsxs)(u.eI,{children:[(0,a.jsx)(u.lR,{children:"Category Name"}),(0,a.jsx)(u.MJ,{children:(0,a.jsx)(d.p,{...t})}),(0,a.jsx)(u.C5,{className:"text-red-500"})]})}}),(0,a.jsx)(i.$,{type:"submit",className:"cursor-pointer",children:"Update Category"})]})})]})})]})}},8986:(e,t,r)=>{"use strict";r.d(t,{Label:()=>o});var a=r(5155);r(2115);var s=r(6195),n=r(1567);function o(e){let{className:t,...r}=e;return(0,a.jsx)(s.b,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...r})}}},e=>{var t=t=>e(e.s=t);e.O(0,[1345,814,2937,483,6217,8441,6587,7358],()=>t(1197)),_N_E=e.O()}]);