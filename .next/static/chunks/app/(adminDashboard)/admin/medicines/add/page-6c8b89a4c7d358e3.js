(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1713],{233:(e,r,a)=>{"use strict";a.d(r,{default:()=>S});var n=a(5155),t=a(3415),l=a(9606),s=a(5060),c=a(1621),i=a(4870),o=a(5185),d=a(2115),u=a(3900),m=a(6754),x=a(7528),p=a(9095),h=a(3312),j=a(6510),g=a(2423),f=a(5828);let b=(0,f.createServerReference)("7f645e0f4c8f9282fe53ede6eb61396f552cb8d1cf",f.callServer,void 0,f.findSourceMapURL,"createMedicine");var v=a(814),y=a(6046);let N=t.z.object({name:t.z.string().min(2,"Medicine name must be at least 2 characters"),price:t.z.coerce.number().positive("Price must be positive"),quantity:t.z.coerce.number().int().positive("Quantity must be a positive integer"),type:t.z.string().min(2,"Type is required"),usege:t.z.string().optional(),sideEffect:t.z.string().optional(),precautions:t.z.string().optional(),description:t.z.string().min(10,"Description must be at least 10 characters"),category:t.z.string().min(1,"Category is required"),prescription:t.z.enum(["Yes","No"]),expiryDate:t.z.date(),manufacturer:t.z.string().min(1,"Manufacturer is required")});function S(e){let{categories:r,manufacturers:a}=e,[t,f]=(0,d.useState)([]),S=(0,y.useRouter)(),C=(0,l.mN)({resolver:(0,s.u)(N),defaultValues:{name:"",price:0,quantity:0,type:"",usege:"",sideEffect:"",precautions:"",description:"",category:"",prescription:"No",expiryDate:new Date,manufacturer:""}}),z=async e=>{try{let r={...e,images:t},a=await b(r);a.success?(v.o.success(null==a?void 0:a.message),S.push("/admin/medicines"),C.reset()):v.o.error(null==a?void 0:a.message)}catch(e){v.o.error("Medicine create failed! try again")}},M="border border-gray-400 dark:border-gray-700 bg-transparent rounded-lg p-3 focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary transition duration-300";return(0,n.jsxs)("div",{className:"max-w-3xl mx-auto p-1 sm:p-4 md:p-6 bg-white dark:bg-zinc-900 shadow-xl rounded-xl",children:[(0,n.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-center text-primary mb-6",children:"Add New Medicine"}),(0,n.jsx)(i.lV,{...C,children:(0,n.jsxs)("form",{onSubmit:C.handleSubmit(z),className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[[{name:"name",label:"Medicine Name"},{name:"price",label:"Price",type:"number"},{name:"quantity",label:"Quantity",type:"number"},{name:"type",label:"Medicine Type"}].map(e=>{let{name:r,label:a,type:t}=e;return(0,n.jsx)(i.zB,{control:C.control,name:r,render:e=>{let{field:r}=e;return(0,n.jsxs)(i.eI,{children:[(0,n.jsx)(i.lR,{children:a}),(0,n.jsx)(i.MJ,{children:(0,n.jsx)(u.p,{type:t||"text",placeholder:"Enter ".concat(a),className:M,...r,value:"boolean"==typeof r.value||r.value instanceof Date?"":r.value})}),(0,n.jsx)(i.C5,{className:"text-red-500"})]})}},r)}),(0,n.jsx)(i.zB,{control:C.control,name:"expiryDate",render:e=>{let{field:r}=e;return(0,n.jsxs)(i.eI,{children:[(0,n.jsx)(i.lR,{children:"Expiry Date"}),(0,n.jsxs)(p.AM,{children:[(0,n.jsx)(p.Wv,{asChild:!0,children:(0,n.jsx)(i.MJ,{children:(0,n.jsxs)(h.$,{variant:"outline",className:"w-full border border-gray-300 dark:border-gray-600",children:[r.value?(0,c.GP)(r.value,"PPP"):"Pick a date",(0,n.jsx)(g.A,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),(0,n.jsx)(p.hl,{className:"w-auto p-0",children:(0,n.jsx)(j.V,{mode:"single",selected:r.value,onSelect:r.onChange,disabled:e=>e<new Date||e>new Date("2100-01-01")})})]}),(0,n.jsx)(i.C5,{})]})}}),[{name:"usege",label:"Usage Instructions"},{name:"sideEffect",label:"Side Effects"},{name:"precautions",label:"Precautions"},{name:"description",label:"Description"}].map(e=>{let{name:r,label:a}=e;return(0,n.jsx)(i.zB,{control:C.control,name:r,render:e=>{let{field:r}=e;return(0,n.jsxs)(i.eI,{className:"col-span-1 md:col-span-2",children:[(0,n.jsx)(i.lR,{children:a}),(0,n.jsx)(i.MJ,{children:(0,n.jsx)(m.T,{placeholder:"Enter ".concat(a),className:M,...r,value:"boolean"==typeof r.value||r.value instanceof Date?"":r.value})}),(0,n.jsx)(i.C5,{className:"text-red-500"})]})}},r)}),(0,n.jsx)(i.zB,{control:C.control,name:"category",render:e=>{let{field:a}=e;return(0,n.jsxs)(i.eI,{children:[(0,n.jsx)(i.lR,{children:"Category"}),(0,n.jsxs)(x.Select,{onValueChange:a.onChange,defaultValue:a.value,children:[(0,n.jsx)(i.MJ,{children:(0,n.jsx)(x.SelectTrigger,{className:M,children:(0,n.jsx)(x.SelectValue,{placeholder:"Select Category"})})}),(0,n.jsx)(x.SelectContent,{children:null==r?void 0:r.map(e=>(0,n.jsx)(x.SelectItem,{value:e._id,children:e.name},e._id))})]}),(0,n.jsx)(i.C5,{className:"text-red-500"})]})}}),(0,n.jsx)(i.zB,{control:C.control,name:"manufacturer",render:e=>{let{field:r}=e;return(0,n.jsxs)(i.eI,{children:[(0,n.jsx)(i.lR,{children:"Manufacturer"}),(0,n.jsxs)(x.Select,{onValueChange:r.onChange,defaultValue:r.value,children:[(0,n.jsx)(i.MJ,{children:(0,n.jsx)(x.SelectTrigger,{className:M,children:(0,n.jsx)(x.SelectValue,{placeholder:"Select Manufacturer"})})}),(0,n.jsx)(x.SelectContent,{children:null==a?void 0:a.map(e=>(0,n.jsx)(x.SelectItem,{value:e._id,children:e.name},e._id))})]}),(0,n.jsx)(i.C5,{className:"text-red-500"})]})}}),(0,n.jsx)(i.zB,{control:C.control,name:"prescription",render:e=>{let{field:r}=e;return(0,n.jsxs)(i.eI,{children:[(0,n.jsx)(i.lR,{children:"Prescription Required"}),(0,n.jsxs)(x.Select,{onValueChange:r.onChange,defaultValue:r.value,children:[(0,n.jsx)(i.MJ,{children:(0,n.jsx)(x.SelectTrigger,{className:M,children:(0,n.jsx)(x.SelectValue,{placeholder:"Select"})})}),(0,n.jsxs)(x.SelectContent,{children:[(0,n.jsx)(x.SelectItem,{value:"Yes",children:"Yes"}),(0,n.jsx)(x.SelectItem,{value:"No",children:"No"})]})]}),(0,n.jsx)(i.C5,{className:"text-red-500"})]})}}),(0,n.jsx)(o.A,{onUploadComplete:e=>f(e)}),(0,n.jsx)(h.$,{type:"submit",className:"col-span-1 md:col-span-2 cursor-pointer",children:"Add Medicine"})]})})]})}},260:(e,r,a)=>{Promise.resolve().then(a.bind(a,233))}},e=>{var r=r=>e(e.s=r);e.O(0,[1345,814,2937,5565,9246,483,3480,1621,9555,7313,8441,6587,7358],()=>r(260)),_N_E=e.O()}]);